<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Burger Kombat</title>
</head>
<body>
<header>
    <!-- <h3>Burger Kombat</h3> -->
    <!-- <h4>powered by Ivan Presnyakov</h4> -->
    <img src="https://cdn.discordapp.com/attachments/1058800929962475531/1242907648677118032/burger-food_884653-6887.jpg?ex=664f8b73&is=664e39f3&hm=391f2b8e0054090cf92b459d3304467c7f9baa086729e7b619d995bc524781c5&" id="logob">
    <h3>(CEO)</h3>
    <img src="https://public.bnbstatic.com/20190405/eb2349c3-b2f8-4a93-a286-8f86a62ea9d8.png" id="benance">
</header>
<main>
<div class="container">
    <div class="data">
        <div class="cube">
            <h1 id="f">Прибль за тап</h1>
            <h2>+1</h2>
        </div>
        <div class="cube">
            <h1 id="s">Монет для апа</h1>
            <h2>1000</h2>
        </div>
        <div class="cube">
            <h1 id="t">Прибыль в час</h1>
            <h2>+1</h2>
        </div>
    </div>
    <div class="line1">
        <img src="https://cdn.discordapp.com/attachments/1058800929962475531/1242851085975293982/coin-dollar_115160.png?ex=664f56c5&is=664e0545&hm=06ec8dfe5f4b6cfd1331877c8de185646dd0491f84dbe6c604e8792f7f49d90c&" id="coin">
        <div class="counter">0</div>
    </div>
    <div class="progress-container">
        <div class="progress">
            <div class="progress-bar"></div>
        </div>
        <div class="progress-label">
            <span>silver</span>
            <span>gold</span>
        </div>
    </div>
    <div class="circle">
        <div class="circle2">
        <img src="https://cdn.discordapp.com/attachments/1058800929962475531/1242847917807501484/begaburger.png?ex=664f53d2&is=664e0252&hm=d541b965852e1dfca9b79ad151e3cc29dddc24624afad148e725b66b87a798cb&" id="burger" alt="Хомяк">
        </div>
    </div>
</div>
</main>

<script>
    let count = parseInt(localStorage.getItem('coinCount')) || 0;
    const circle = document.querySelector('.circle');
    const counter = document.querySelector('.counter');
    const progressBar = document.querySelector('.progress-bar');

    // Инициализируем счетчик и прогресс бар
    counter.textContent = count;
    progressBar.style.width = Math.min(count / 1000 * 100, 100) + '%';

    circle.addEventListener('mousedown', (e) => {
        count++;
        counter.textContent = count;

        // Обновление прогресс-бара
        const progress = Math.min(count / 1000 * 100, 100);
        progressBar.style.width = progress + '%';

        // Сохраняем новое значение в localStorage
        localStorage.setItem('coinCount', count);

        // Создаем элемент +1
        const number = document.createElement('div');
        number.className = 'number';
        number.textContent = '+1';
        number.style.left = `${e.offsetX}px`;
        number.style.top = `${e.offsetY}px`;
        circle.appendChild(number);

        // Удаляем элемент +1 после анимации
        number.addEventListener('animationend', () => {
            number.remove();
        });

        // Эффект дергания
        circle.style.transform = 'scale(0.95)';
        setTimeout(() => {
            circle.style.transform = 'scale(1)';
        }, 200); // Плавный возврат через 200ms
    });
</script>

</body>
</html>
